"use strict";(self.webpackChunkfinsoft=self.webpackChunkfinsoft||[]).push([[8955],{78955:function(t,e,n){n.r(e),n.d(e,{default:function(){return Ce}});var r=n(93433),i=n(29439),o=n(47313),a=n(97326),s=n(60136),u=n(29388),c=n(15671),l=n(43144),f=n(11752),h=n(61120),p=function(){function t(e,n){(0,c.Z)(this,t),this.operator=e,this.value=n,Object.defineProperty(this,"t",{writable:!0})}return(0,l.Z)(t,[{key:"notes",get:function(){return this.t}},{key:"addNote",value:function(t){this.t=this.t||[],this.t.push(t)}}]),t}(),d=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,c.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n)}(p),v=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,r){if((0,c.Z)(this,n),!Array.isArray(r))throw new Error('"'.concat(t,'" operator expects to receive an array of conditions'));return e.call(this,t,r)}return(0,l.Z)(n)}(d),y="__itself__",g=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,r,i){var o;return(0,c.Z)(this,n),(o=e.call(this,t,i)).field=r,o}return(0,l.Z)(n)}(p),m=new d("__null__",null),b=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function w(t,e){return e instanceof v&&e.operator===t}function j(t,e){return 1===e.length?e[0]:new v(t,function t(e,n,r){for(var i=r||[],o=0,a=n.length;o<a;o++){var s=n[o];w(e,s)?t(e,s.value,i):i.push(s)}return i}(t,e))}var x=function(t){return t},Z=function(){return Object.create(null)},O=Object.defineProperty(Z(),"__@type@__",{value:"ignore value"});function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||t&&t.constructor!==Object)return!1;for(var r in t)if(b(t,r)&&b(e,r)&&(!n||t[r]!==O))return!0;return!1}function $(t){var e=[];for(var n in t)b(t,n)&&t[n]!==O&&e.push(n);return e}function A(t,e){e!==m&&t.push(e)}var E=function(t){return j("and",t)},_={compound:function(t,e,n){var r=(Array.isArray(e)?e:[e]).map((function(t){return n.parse(t)}));return new v(t.name,r)},field:function(t,e,n){return new g(t.name,n.field,e)},document:function(t,e){return new d(t.name,e)}},C=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z();(0,c.Z)(this,t),this.o=void 0,this.s=void 0,this.i=void 0,this.u=void 0,this.h=void 0,this.parse=this.parse.bind(this),this.u={operatorToConditionName:r.operatorToConditionName||x,defaultOperatorName:r.defaultOperatorName||"eq",mergeFinalConditions:r.mergeFinalConditions||E},this.o=Object.keys(e).reduce((function(t,r){return t[r]=Object.assign({name:n.u.operatorToConditionName(r)},e[r]),t}),{}),this.s=Object.assign({},r.fieldContext,{field:"",query:{},parse:this.parse,hasOperators:function(t){return k(t,n.o,r.useIgnoreValue)}}),this.i=Object.assign({},r.documentContext,{parse:this.parse,query:{}}),this.h=r.useIgnoreValue?$:Object.keys}return(0,l.Z)(t,[{key:"setParse",value:function(t){this.parse=t,this.s.parse=t,this.i.parse=t}},{key:"parseField",value:function(t,e,n,r){var i=this.o[e];if(!i)throw new Error('Unsupported operator "'.concat(e,'"'));if("field"!==i.type)throw new Error("Unexpected ".concat(i.type,' operator "').concat(e,'" at field level'));return this.s.field=t,this.s.query=r,this.parseInstruction(i,n,this.s)}},{key:"parseInstruction",value:function(t,e,n){return"function"==typeof t.validate&&t.validate(t,e),(t.parse||_[t.type])(t,e,n)}},{key:"parseFieldOperators",value:function(t,e){for(var n=[],r=this.h(e),i=0,o=r.length;i<o;i++){var a=r[i];if(!this.o[a])throw new Error('Field query for "'.concat(t,'" may contain only operators or a plain object as a value'));A(n,this.parseField(t,a,e[a],e))}return n}},{key:"parse",value:function(t){var e=[],n=this.h(t);this.i.query=t;for(var i=0,o=n.length;i<o;i++){var a=n[i],s=t[a],u=this.o[a];if(u){if("document"!==u.type&&"compound"!==u.type)throw new Error('Cannot use parsing instruction for operator "'.concat(a,'" in "document" context as it is supposed to be used in  "').concat(u.type,'" context'));A(e,this.parseInstruction(u,s,this.i))}else this.s.hasOperators(s)?e.push.apply(e,(0,r.Z)(this.parseFieldOperators(a,s))):A(e,this.parseField(a,this.u.defaultOperatorName,s,t))}return this.u.mergeFinalConditions(e)}}]),t}();function M(t,e){var n=t[e];if("function"!=typeof n)throw new Error('Unable to interpret "'.concat(e,'" condition. Did you forget to register interpreter for it?'));return n}function F(t){return t.operator}function S(t,e){var n,r=e,i=r&&r.getInterpreterName||F;switch(r?r.numberOfArguments:0){case 1:n=function(e){var n=i(e,r);return M(t,n)(e,o)};break;case 3:n=function(e,n,a){var s=i(e,r);return M(t,s)(e,n,a,o)};break;default:n=function(e,n){var a=i(e,r);return M(t,a)(e,n,o)}}var o=Object.assign({},r,{interpret:n});return o.interpret}C.prototype.parseInstruction;function R(t,e){if(!Array.isArray(e))throw new Error('"'.concat(t.name,'" expects value to be an array'))}function N(t,e){if(R(t,e),!e.length)throw new Error('"'.concat(t.name,'" expects to have at least one element in array'))}var P=function(t){return function(e,n){if(typeof n!==t)throw new Error('"'.concat(e.name,'" expects value to be a "').concat(t,'"'))}},T={type:"compound",validate:N,parse:function(t,e,n){var r=n.parse,i=e.map((function(t){return r(t)}));return j(t.name,i)}},q=T,I={type:"compound",validate:N},z={type:"field",validate:function(t,e){if(!e||!(e instanceof RegExp||e.constructor===Object))throw new Error('"'.concat(t.name,'" expects to receive either regular expression or object of field operators'))},parse:function(t,e,n){var r=e instanceof RegExp?new g("regex",n.field,e):n.parse(e,n);return new v(t.name,[r])}},D={type:"field",validate:function(t,e){if(!e||e.constructor!==Object)throw new Error('"'.concat(t.name,'" expects to receive an object with nested query or field level operators'))},parse:function(t,e,n){var r=n.parse,i=n.field,o=(0,n.hasOperators)(e)?r(e,{field:y}):r(e);return new g(t.name,i,o)}},U={type:"field",validate:P("number")},Y={type:"field",validate:R},L=Y,J=Y,V={type:"field",validate:function(t,e){if(!Array.isArray(e)||2!==e.length)throw new Error('"'.concat(t.name,'" expects an array with 2 numeric elements'))}},B={type:"field",validate:P("boolean")},H={type:"field",validate:function(t,e){if(!("string"==typeof e||"number"==typeof e||e instanceof Date))throw new Error('"'.concat(t.name,'" expects value to be comparable (i.e., string, number or date)'))}},W=H,G=W,K=W,Q={type:"field"},X=Q,tt={type:"field",validate:function(t,e){if(!(e instanceof RegExp)&&"string"!=typeof e)throw new Error('"'.concat(t.name,'" expects value to be a regular expression or a string that represents regular expression'))},parse:function(t,e,n){var r="string"==typeof e?new RegExp(e,n.query.$options||""):e;return new g(t.name,n.field,r)}},et={type:"field",parse:function(){return m}},nt={type:"document",validate:P("function")},rt=Object.freeze({__proto__:null,$and:T,$or:q,$nor:I,$not:z,$elemMatch:D,$size:U,$in:Y,$nin:L,$all:J,$mod:V,$exists:B,$gte:H,$gt:W,$lt:G,$lte:K,$eq:Q,$ne:X,$regex:tt,$options:et,$where:nt}),it=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t){return(0,c.Z)(this,n),e.call(this,t,{defaultOperatorName:"$eq",operatorToConditionName:function(t){return t.slice(1)}})}return(0,l.Z)(n,[{key:"parse",value:function(t,e){return e&&e.field?E(this.parseFieldOperators(e.field,t)):(0,f.Z)((0,h.Z)(n.prototype),"parse",this).call(this,t)}}]),n}(C),ot=rt;function at(t,e,n){for(var r=0,i=t.length;r<i;r++)if(0===n(t[r],e))return!0;return!1}function st(t,e){return Array.isArray(t)&&Number.isNaN(Number(e))}function ut(t,e,n){if(!st(t,e))return n(t,e);for(var r=[],i=0;i<t.length;i++){var o=n(t[i],e);void 0!==o&&(r=r.concat(o))}return r}function ct(t){return function(e,n,r){var i=r.get(n,e.field);return Array.isArray(i)?i.some((function(n){return t(e,n,r)})):t(e,i,r)}}var lt=function(t,e){return t[e]};function ft(t,e,n){var r=e.lastIndexOf(".");return-1===r?[t,e]:[n(t,e.slice(0,r)),e.slice(r+1)]}function ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lt;if(e===y)return t;if(!t)throw new Error('Unable to get field "'.concat(e,'" out of ').concat(String(t),"."));return function(t,e,n){if(-1===e.indexOf("."))return ut(t,e,n);for(var r=e.split("."),i=t,o=0,a=r.length;o<a;o++)if(!(i=ut(i,r[o],n))||"object"!=typeof i)return i;return i}(t,e,n)}function pt(t,e){return t===e?0:t>e?1:-1}function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(t,Object.assign({get:ht,compare:pt},e))}var vt=function(t,e,n){var r=n.interpret;return t.value.some((function(t){return r(t,e)}))},yt=function(t,e,n){var r=n.interpret;return t.value.every((function(t){return r(t,e)}))},gt=function(t,e,n){var r=n.compare,i=(0,n.get)(e,t.field);return Array.isArray(i)&&!Array.isArray(t.value)?at(i,t.value,r):0===r(i,t.value)},mt=function(t,e,n){return!gt(t,e,n)},bt=ct((function(t,e,n){var r=n.compare(e,t.value);return 0===r||-1===r})),wt=ct((function(t,e,n){return-1===n.compare(e,t.value)})),jt=ct((function(t,e,n){return 1===n.compare(e,t.value)})),xt=ct((function(t,e,n){var r=n.compare(e,t.value);return 0===r||1===r})),Zt=function(t,e,n){var r=n.get;if(t.field===y)return void 0!==e;var o=ft(e,t.field,r),a=(0,i.Z)(o,2),s=a[0],u=a[1],c=function(e){return!!e&&e.hasOwnProperty(u)===t.value};return st(s,u)?s.some(c):c(s)},Ot=ct((function(t,e){return"number"==typeof e&&e%t.value[0]===t.value[1]})),kt=function(t,e,n){var r=n.get,o=ft(e,t.field,r),a=(0,i.Z)(o,2),s=a[0],u=a[1],c=function(e){var n=r(e,u);return Array.isArray(n)&&n.length===t.value};return t.field!==y&&st(s,u)?s.some(c):c(s)},$t=ct((function(t,e){return"string"==typeof e&&t.value.test(e)})),At=ct((function(t,e,n){var r=n.compare;return at(t.value,e,r)})),Et=function(t,e,n){return!At(t,e,n)},_t=function(t,e,n){var r=n.compare,i=(0,n.get)(e,t.field);return Array.isArray(i)&&t.value.every((function(t){return at(i,t,r)}))},Ct=function(t,e,n){var r=n.interpret,i=(0,n.get)(e,t.field);return Array.isArray(i)&&i.some((function(e){return r(t.value,e)}))},Mt=Object.freeze({__proto__:null,or:vt,nor:function(t,e,n){return!vt(t,e,n)},and:yt,not:function(t,e,n){return!(0,n.interpret)(t.value[0],e)},eq:gt,ne:mt,lte:bt,lt:wt,gt:jt,gte:xt,exists:Zt,mod:Ot,size:kt,regex:$t,within:At,nin:Et,all:_t,elemMatch:Ct,where:function(t,e){return t.value.call(e)}}),Ft=Object.assign({},Mt,{in:At});dt(Ft);function St(t){return t instanceof Date?t.getTime():t&&"function"==typeof t.toJSON?t.toJSON():t}var Rt=function(t,e){return pt(St(t),St(e))};function Nt(t,e,n){var r=new it(t),i=dt(e,Object.assign({compare:Rt},n));if(n&&n.forPrimitives){var o={field:y},a=r.parse;r.setParse((function(t){return a(t,o)}))}return function(t,e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=t.apply(void 0,[n].concat(i)),s=e.bind(null,a);return s.ast=a,s}}(r.parse,i)}Nt(ot,Ft),Nt(["$and","$or"].reduce((function(t,e){return t[e]=Object.assign({},t[e],{type:"field"}),t}),Object.assign({},ot,{$nor:Object.assign({},ot.$nor,{type:"field",parse:_.compound})})),Ft,{forPrimitives:!0});function Pt(t){return Array.isArray(t)?t:[t]}var Tt=Object.hasOwn||Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty),qt="__caslSubjectType__";var It=function(t){var e=typeof t;return"string"===e||"function"===e},zt=function(t){return t.modelName||t.name};function Dt(t){return Tt(t,qt)?t[qt]:zt(t.constructor)}function Ut(t,e,n){for(var r=n;r<e.length;r++)t.push(e[r])}function Yt(t,e){if(!t||!t.length)return e||[];if(!e||!e.length)return t||[];for(var n=0,r=0,i=[];n<t.length&&r<e.length;)t[n].priority<e[r].priority?(i.push(t[n]),n++):(i.push(e[r]),r++);return Ut(i,t,n),Ut(i,e,r),i}function Lt(t,e,n){var r=t.get(e);return r||(r=n(),t.set(e,r)),r}var Jt=function(t){return t};function Vt(t,e){if(Array.isArray(t.fields)&&!t.fields.length)throw new Error("`rawRule.fields` cannot be an empty array. https://bit.ly/390miLa");if(t.fields&&!e.fieldMatcher)throw new Error('You need to pass "fieldMatcher" option in order to restrict access by fields');if(t.conditions&&!e.conditionsMatcher)throw new Error('You need to pass "conditionsMatcher" option in order to restrict access by conditions')}var Bt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,c.Z)(this,t),Vt(e,n),this.action=n.resolveAction(e.action),this.subject=e.subject,this.inverted=!!e.inverted,this.conditions=e.conditions,this.reason=e.reason,this.fields=e.fields?Pt(e.fields):void 0,this.priority=r,this.t=n}return(0,l.Z)(t,[{key:"i",value:function(){return this.conditions&&!this.o&&(this.o=this.t.conditionsMatcher(this.conditions)),this.o}},{key:"ast",get:function(){var t=this.i();return t?t.ast:void 0}},{key:"matchesConditions",value:function(t){return!this.conditions||(!t||It(t)?!this.inverted:this.i()(t))}},{key:"matchesField",value:function(t){return!this.fields||(t?(this.fields&&!this.u&&(this.u=this.t.fieldMatcher(this.fields)),this.u(t)):!this.inverted)}}]),t}();var Ht=function(t){return{value:t.value,prev:t.prev,next:t.next}},Wt=function(){return{rules:[],merged:!1}},Gt=function(){return new Map},Kt=function(t,e){!t.h&&e.fields&&(t.h=!0)},Qt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,t),this.h=!1,this.l=new Map,this.p={conditionsMatcher:n.conditionsMatcher,fieldMatcher:n.fieldMatcher,resolveAction:n.resolveAction||Jt},this.g=n.anyAction||"manage",this.$=n.anySubjectType||"all",this.A=n.detectSubjectType||Dt,this.M=e,this.j=this.m(e)}return(0,l.Z)(t,[{key:"rules",get:function(){return this.M}},{key:"detectSubjectType",value:function(t){return It(t)?t:t?this.A(t):this.$}},{key:"update",value:function(t){var e={rules:t,ability:this,target:this};return this.v("update",e),this.M=t,this.j=this.m(t),this.v("updated",e),this}},{key:"m",value:function(t){for(var e=new Map,n=t.length-1;n>=0;n--){var r=t.length-n-1,i=new Bt(t[n],this.p,r),o=Pt(i.action),a=Pt(i.subject||this.$);Kt(this,i);for(var s=0;s<a.length;s++)for(var u=Lt(e,a[s],Gt),c=0;c<o.length;c++)Lt(u,o[c],Wt).rules.push(i)}return e}},{key:"possibleRulesFor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$;if(!It(e))throw new Error('"possibleRulesFor" accepts only subject types (i.e., string or class) as the 2nd parameter');var n=Lt(this.j,e,Gt),r=Lt(n,t,Wt);if(r.merged)return r.rules;var i=t!==this.g&&n.has(this.g)?n.get(this.g).rules:void 0,o=Yt(r.rules,i);return e!==this.$&&(o=Yt(o,this.possibleRulesFor(t,this.$))),r.rules=o,r.merged=!0,o}},{key:"rulesFor",value:function(t,e,n){var r=this.possibleRulesFor(t,e);if(n&&"string"!==typeof n)throw new Error("The 3rd, `field` parameter is expected to be a string. See https://stalniy.github.io/casl/en/api/casl-ability#can-of-pure-ability for details");return this.h?r.filter((function(t){return t.matchesField(n)})):r}},{key:"on",value:function(t,e){var n=this,r=function(t,e){var n={value:t,prev:e,next:null};return e&&(e.next=n),n}(e,this.l.get(t)||null);return this.l.set(t,r),function(){var e=n.l.get(t);r.next||r.prev||e!==r?r===e&&n.l.set(t,r.prev):n.l.delete(t),function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t.next=t.prev=null}(r)}}},{key:"v",value:function(t,e){for(var n=this.l.get(t)||null;null!==n;){var r=n.prev?Ht(n.prev):null;n.value(e),n=r}}}]),t}(),Xt=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,c.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"can",value:function(t,e,n){var r=this.relevantRuleFor(t,e,n);return!!r&&!r.inverted}},{key:"relevantRuleFor",value:function(t,e,n){for(var r=this.detectSubjectType(e),i=this.rulesFor(t,r,n),o=0,a=i.length;o<a;o++)if(i[o].matchesConditions(e))return i[o];return null}},{key:"cannot",value:function(t,e,n){return!this.can(t,e,n)}}]),n}(Qt),te={$eq:Q,$ne:X,$lt:G,$lte:K,$gt:W,$gte:H,$in:Y,$nin:L,$all:J,$size:U,$regex:tt,$options:et,$elemMatch:D,$exists:B},ee={eq:gt,ne:mt,lt:wt,lte:bt,gt:jt,gte:xt,in:At,nin:Et,all:_t,size:kt,regex:$t,elemMatch:Ct,exists:Zt,and:yt},ne=Nt(te,ee),re=/[-/\\^$+?.()|[\]{}]/g,ie=/\.?\*+\.?/g,oe=/\*+/,ae=/\./g;function se(t,e,n){var r="*"===n[0]||"."===t[0]&&"."===t[t.length-1]?"+":"*",i=-1===t.indexOf("**")?"[^.]":".",o=t.replace(ae,"\\$&").replace(oe,i+r);return e+t.length===n.length?"(?:".concat(o,")?"):o}function ue(t,e,n){return"."!==t||"*"!==n[e-1]&&"*"!==n[e+1]?"\\".concat(t):t}var ce=function(t){var e;return function(n){return"undefined"===typeof e&&(e=t.every((function(t){return-1===t.indexOf("*")}))?null:function(t){var e=t.map((function(t){return t.replace(re,ue).replace(ie,se)})),n=e.length>1?"(?:".concat(e.join("|"),")"):e[0];return new RegExp("^".concat(n,"$"))}(t)),null===e?-1!==t.indexOf(n):e.test(n)}};function le(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Xt(t,Object.assign({conditionsMatcher:ne,fieldMatcher:ce},e))}var fe=function(){function t(e){(0,c.Z)(this,t),this.O=e}return(0,l.Z)(t,[{key:"because",value:function(t){return this.O.reason=t,this}}]),t}(),he=function(){function t(e){(0,c.Z)(this,t),this.rules=[],this._=e,this.can=this.can.bind(this),this.cannot=this.cannot.bind(this),this.build=this.build.bind(this)}return(0,l.Z)(t,[{key:"can",value:function(t,e,n,r){var i={action:t};return e&&(i.subject=e,Array.isArray(n)||"string"===typeof n?i.fields=n:"undefined"!==typeof n&&(i.conditions=n),"undefined"!==typeof r&&(i.conditions=r)),this.rules.push(i),new fe(i)}},{key:"cannot",value:function(t,e,n,r){var i=this.can(t,e,n,r);return i.O.inverted=!0,i}},{key:"build",value:function(t){return function(t){return"function"===typeof t.prototype.possibleRulesFor}(this._)?new this._(this.rules,t):this._(this.rules,t)}}]),t}();var pe=function(t){this.message=t};pe.prototype=Object.create(Error.prototype);var de=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t){var r;return(0,c.Z)(this,n),(r=e.call(this,"")).ability=t,"function"===typeof Error.captureStackTrace&&(r.name="ForbiddenError",Error.captureStackTrace((0,a.Z)(r),r.constructor)),r}return(0,l.Z)(n,[{key:"setMessage",value:function(t){return this.message=t,this}},{key:"throwUnlessCan",value:function(t,e,n){var r=this.unlessCan(t,e,n);if(r)throw r}},{key:"unlessCan",value:function(t,e,n){var r=this.ability.relevantRuleFor(t,e,n);if(!r||r.inverted){this.action=t,this.subject=e,this.subjectType=function(t){return"string"===typeof t?t:zt(t)}(this.ability.detectSubjectType(e)),this.field=n;var i=r?r.reason:"";return this.message=this.message||i||this.constructor.F(this),this}}}],[{key:"setDefaultMessage",value:function(t){this.F="string"===typeof t?function(){return t}:t}},{key:"from",value:function(t){return new this(t)}}]),n}(pe);de.F=function(t){return'Cannot execute "'.concat(t.action,'" on "').concat(t.subjectType,'"')};Object.freeze({__proto__:null});var ve=function(){},ye=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){var t;(0,c.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).t=!1,t.i=null,t.o=ve,t}return(0,l.Z)(n,[{key:"componentWillUnmount",value:function(){this.o()}},{key:"u",value:function(t){var e=this;t!==this.i&&(this.o(),this.i=null,t&&(this.i=t,this.o=t.on("updated",(function(){return e.forceUpdate()}))))}},{key:"allowed",get:function(){return this.t}},{key:"h",value:function(){var t=this.props,e=t.of||t.a||t.an||t.this||t.on,n=t.not?"cannot":"can";return t.ability[n](t.I||t.do,e,t.field)}},{key:"render",value:function(){return this.u(this.props.ability),this.t=this.h(),this.props.passThrough||this.t?this.l():null}},{key:"l",value:function(){var t=this.props,e=t.children,n=t.ability;return"function"===typeof e?e(this.t,n):e}}]),n}(o.PureComponent);var ge=n(57863),me=n(24147),be=n(35898),we=n(24193),je=n(41806),xe=n(48310),Ze=n(67216),Oe=n(44142),ke=n(46417),$e=[{to:"/",title:"Home"},{title:"CASL"}],Ae={CanEdit:{action:"Can-edit",subject:"address"},CanDelete:{action:"Can-delete",subject:"address"}},Ee={Admin:{permissions:["CanEdit","CanDelete"]},Manager:{permissions:["CanEdit"]},Subscriber:{permissions:[]}},_e=[{city:"New York",street:"5684 Max Summit",type:"address"},{city:"Manhatten York",street:"5684 Max Summit",type:"address"},{city:"Canada street York",street:"5684 Max Summit",type:"address"},{city:"Delhi street",street:"5684 Max Summit",type:"address"},{city:"UP Chawk",street:"5684 Max Summit",type:"address"}],Ce=function(){var t=o.useState(Object.keys(Ee)[0]),e=(0,i.Z)(t,2),n=e[0],a=e[1],s=Ee[n].permissions.map((function(t){return Ae[t]})),u=(0,r.Z)(s.reduce((function(t,e){var n=e.action;return t.add(n),t}),new Set)),c=function(t,e){var n=new he(le),r=t(n.can,n.cannot);return r&&"function"===typeof r.then?r.then((function(){return n.build(e)})):n.build(e)}((function(t){s.forEach((function(e){var n=e.action,r=e.subject;t(n,r)}))}));return(0,ke.jsxs)(me.Z,{title:"Rollbase Access",description:"this is Rollbase Access",children:[(0,ke.jsx)(ge.Z,{title:"Pricing",items:$e}),(0,ke.jsxs)(Oe.Z,{title:"Permission Base Access with CASL",children:[(0,ke.jsx)(be.Z,{direction:"row",gap:1,children:Object.entries(Ee).map((function(t){var e=(0,i.Z)(t,1)[0];return(0,ke.jsx)(we.Z,{variant:n!==e?"outlined":"contained",color:"primary",onClick:function(){return a(e)},children:e},e)}))}),(0,ke.jsx)(je.Z,{p:2,mt:2,bgcolor:"primary.light",children:Ee[n].permissions.map((function(t){return(0,ke.jsx)(je.Z,{children:t},t)}))}),(0,ke.jsx)(xe.Z,{children:_e.map((function(t){var e=t.city,n=t.street,r=t.type;return(0,ke.jsx)(Ze.ZP,{children:(0,ke.jsxs)(be.Z,{direction:"row",gap:1,alignItems:"center",children:[e,", ",n,u.map((function(t){return(0,ke.jsx)(ye,{I:t,a:r,ability:c,children:(0,ke.jsx)(we.Z,{size:"small",children:t})})}))]})},e)}))})]})]})}},11752:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(61120);function i(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},o.apply(this,arguments)}}}]);