"use strict";(self.webpackChunkfinsoft=self.webpackChunkfinsoft||[]).push([[6156],{67552:function(e,n,r){var i=r(1413),t=r(45987),s=r(78131),a=(r(98996),r(17592)),l=r(41806),o=r(46417),c=["children","sx"],d=(0,a.ZP)(s.Z)((function(){return{maxHeight:"100%",".simplebar-scrollbar:before":{backgroundColor:"#2e2d348f"}}}));n.Z=function(e){var n=e.children,r=e.sx,s=(0,t.Z)(e,c);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(0,o.jsx)(l.Z,{sx:{overflowX:"auto"},children:n}):(0,o.jsx)(d,(0,i.Z)((0,i.Z)({sx:r},s),{},{children:n}))}},90296:function(e,n,r){r(47313);var i=r(73428),t=r(85554),s=r(46417);n.Z=function(e){var n=e.children,r=(0,t.v9)((function(e){return e.customizer}));return(0,s.jsx)(i.Z,{sx:{display:"flex",p:0},elevation:r.isCardShadow?9:0,variant:r.isCardShadow?void 0:"outlined",children:n})}},60226:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var i=r(29439),t=r(47313),s=r(41806),a=r(19536),l=r(57863),o=r(24147),c=r(4942),d=r(15300),h=r(46923),u=r(23639),x=r(63585),p=r(61113),j=r(24631),g=r(41727),m=r(48310),Z=r(24193),f=r(85582),v=r(51405),b=r(89840),y=r(32600),k=r(83213),w=r(99881),C=r(85554),S=r(67552),P=r(29946),z=r(16031),I=r(13971),M=r(1834),O=r(89895),R=r(46417),A=function(){var e=(0,C.I0)(),n=(0,C.v9)((function(e){return e.chatReducer.chatContent}));(0,t.useEffect)((function(){e((0,P.gE)())}),[e]);var r=(0,C.v9)((function(e){return function(e,n){return e?e.filter((function(e){return e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())})):e}(e.chatReducer.chats,e.chatReducer.chatSearch)})),a=function(e){var n="",r=e.messages[e.messages.length-1];if(r){var i=r.senderId===e.id?"You: ":"",t="image"===r.type?"Sent a photo":r.msg;n="".concat(i).concat(t)}return n},l=function(e){var n;return null===(n=(0,z.last)(e.messages))||void 0===n?void 0:n.createdAt},o=t.useState(null),c=(0,i.Z)(o,2),d=c[0],h=c[1],A=Boolean(d),H=function(){h(null)};return(0,R.jsxs)("div",{children:[(0,R.jsxs)(s.Z,{display:"flex",alignItems:"center",gap:"10px",p:3,children:[(0,R.jsx)(u.Z,{variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",color:"success",children:(0,R.jsx)(x.Z,{alt:"Remy Sharp",src:O,sx:{width:54,height:54}})}),(0,R.jsxs)(s.Z,{children:[(0,R.jsx)(p.Z,{variant:"body1",fontWeight:600,children:"John Deo"}),(0,R.jsx)(p.Z,{variant:"body2",children:"Marketing Manager"})]})]}),(0,R.jsx)(s.Z,{px:3,py:1,children:(0,R.jsx)(j.Z,{id:"outlined-search",placeholder:"Search contacts",size:"small",type:"search",variant:"outlined",InputProps:{endAdornment:(0,R.jsx)(g.Z,{position:"end",children:(0,R.jsx)(M.jVj,{size:"16"})})},fullWidth:!0,onChange:function(n){return e((0,P.Hg)(n.target.value))}})}),(0,R.jsxs)(m.Z,{sx:{px:0},children:[(0,R.jsxs)(s.Z,{px:2.5,pb:1,children:[(0,R.jsxs)(Z.Z,{id:"basic-button","aria-controls":A?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":A?"true":void 0,onClick:function(e){h(e.currentTarget)},color:"inherit",children:["Recent Chats ",(0,R.jsx)(M.C26,{size:"16"})]}),(0,R.jsxs)(f.Z,{id:"basic-menu",anchorEl:d,open:A,onClose:H,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,R.jsx)(v.Z,{onClick:H,children:"Sort By Time"}),(0,R.jsx)(v.Z,{onClick:H,children:"Sort By Unread"}),(0,R.jsx)(v.Z,{onClick:H,children:"Mark as all Read"})]})]}),(0,R.jsx)(S.Z,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"600px"},children:r&&r.length?r.map((function(r){return(0,R.jsxs)(b.Z,{onClick:function(){return e((0,P.WR)(r.id))},sx:{mb:.5,py:2,px:3,alignItems:"start"},selected:n===r.id,children:[(0,R.jsx)(y.Z,{children:(0,R.jsx)(u.Z,{color:"online"===r.status?"success":"busy"===r.status?"error":"away"===r.status?"warning":"secondary",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",children:(0,R.jsx)(x.Z,{alt:"Remy Sharp",src:r.thumb,sx:{width:42,height:42}})})}),(0,R.jsx)(k.Z,{primary:(0,R.jsx)(p.Z,{variant:"subtitle2",fontWeight:600,mb:.5,children:r.name}),secondary:a(r),secondaryTypographyProps:{noWrap:!0},sx:{my:0}}),(0,R.jsx)(s.Z,{sx:{flexShrink:"0"},mt:.5,children:(0,R.jsx)(p.Z,{variant:"body2",children:(0,I.Z)(new Date(l(r)),{addSuffix:!1})})})]},r.id)})):(0,R.jsx)(s.Z,{m:2,children:(0,R.jsx)(w.Z,{severity:"error",variant:"filled",sx:{color:"white"},children:"No Contacts Found!"})})})]})]})},H=function(e){var n=e.isMobileSidebarOpen,r=e.onSidebarClose,i=(0,d.Z)((function(e){return e.breakpoints.up("lg")}));return(0,R.jsx)(h.ZP,{open:n,onClose:r,variant:i?"permanent":"temporary",sx:(0,c.Z)({width:320,flexShrink:0,zIndex:i?0:1},"& .MuiDrawer-paper",{position:"relative"}),children:(0,R.jsx)(A,{})})},W=r(67216),D=r(35898),B=r(47131),E=r(17592),F=r(9019),L=function(e){var n=e.isInSidebar,r=e.chat,i=(0,d.Z)((function(e){return e.breakpoints.up("lg")})),a=(0,z.uniq)((0,z.flatten)(null===r||void 0===r?void 0:r.messages.map((function(e){return e.attachment})))).length,l=(0,z.uniq)((0,z.flatten)(null===r||void 0===r?void 0:r.messages.map((function(e){return"image"===(null===e||void 0===e?void 0:e.type)?e.msg:null})))).length-1,o=(0,E.ZP)(D.Z)((function(){return{".showOnHover":{display:"none"},"&:hover .showOnHover":{display:"block"}}}));return(0,R.jsx)(R.Fragment,{children:n?(0,R.jsxs)(s.Z,{sx:{width:!0===n?320:0,flexShrink:0,border:"0",borderLeft:"1px",borderStyle:"solid",right:"0",background:function(e){return e.palette.background.paper},boxShadow:i?null:function(e){return e.shadows[8]},position:i?"relative":"absolute",borderColor:function(e){return e.palette.divider}},p:3,children:[(0,R.jsxs)(p.Z,{variant:"h6",mb:2,children:["Media (",l,")"]}),(0,R.jsxs)(F.ZP,{container:!0,spacing:2,children:[null===r||void 0===r?void 0:r.messages.map((function(e){return(0,R.jsx)(t.Fragment,{children:"image"===(null===e||void 0===e?void 0:e.type)?(0,R.jsx)(F.ZP,{item:!0,xs:12,lg:4,children:(0,R.jsx)(x.Z,{src:null===e||void 0===e?void 0:e.msg,alt:"media",variant:"rounded",sx:{width:"72px",height:"72px"}})}):null},e.id)})),(0,R.jsx)(F.ZP,{item:!0,xs:12,lg:12,children:0===l?(0,R.jsx)(w.Z,{severity:"error",children:"No Media Found!"}):null})]}),(0,R.jsxs)(p.Z,{variant:"h6",mt:5,mb:2,children:["Attachments (",a,")"]}),(0,R.jsxs)(s.Z,{children:[null===r||void 0===r?void 0:r.messages.map((function(e,n){var r;return(0,R.jsx)(D.Z,{spacing:2.5,direction:"column",children:null===e||void 0===e||null===(r=e.attachment)||void 0===r?void 0:r.map((function(e,n){return(0,R.jsxs)(o,{direction:"row",gap:2,children:[(0,R.jsx)(x.Z,{variant:"rounded",sx:{width:"48px",height:"48px",bgcolor:function(e){return e.palette.grey[100]}},children:(0,R.jsx)(x.Z,{src:e.icon,alt:"av",variant:"rounded",sx:{width:"24px",height:"24px"}})}),(0,R.jsxs)(s.Z,{mr:"auto",children:[(0,R.jsx)(p.Z,{variant:"subtitle2",fontWeight:600,mb:1,children:e.file}),(0,R.jsx)(p.Z,{variant:"body2",children:e.fileSize})]}),(0,R.jsx)(s.Z,{className:"showOnHover",children:(0,R.jsx)(B.Z,{"aria-label":"delete",children:(0,R.jsx)(M.DjJ,{stroke:1.5,size:"20"})})})]},n+e)}))},n)})),0===a?(0,R.jsx)(w.Z,{severity:"error",children:"No Attachment Found!"}):null]})]}):null})},T=function(e){var n=e.toggleChatSidebar,r=t.useState(!0),l=(0,i.Z)(r,2),o=l[0],c=l[1],h=(0,d.Z)((function(e){return e.breakpoints.up("lg")})),j=(0,C.v9)((function(e){return e.chatReducer.chats[e.chatReducer.chatContent-1]}));return(0,R.jsx)(s.Z,{children:j?(0,R.jsxs)(s.Z,{children:[(0,R.jsxs)(s.Z,{children:[(0,R.jsxs)(s.Z,{display:"flex",alignItems:"center",p:2,children:[(0,R.jsx)(s.Z,{sx:{display:{xs:"block",md:"block",lg:"none"},mr:"10px"},children:(0,R.jsx)(M._AG,{stroke:1.5,onClick:n})}),(0,R.jsxs)(W.ZP,{dense:!0,disableGutters:!0,children:[(0,R.jsx)(y.Z,{children:(0,R.jsx)(u.Z,{color:"online"===j.status?"success":"busy"===j.status?"error":"away"===j.status?"warning":"secondary",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",children:(0,R.jsx)(x.Z,{alt:j.name,src:j.thumb})})}),(0,R.jsx)(k.Z,{primary:(0,R.jsx)(p.Z,{variant:"h5",children:j.name}),secondary:j.status})]},j.id),(0,R.jsxs)(D.Z,{direction:"row",children:[(0,R.jsx)(B.Z,{"aria-label":"delete",children:(0,R.jsx)(M.S9Z,{stroke:1.5})}),(0,R.jsx)(B.Z,{"aria-label":"delete",children:(0,R.jsx)(M.OiJ,{stroke:1.5})}),(0,R.jsx)(B.Z,{"aria-label":"delete",onClick:function(){return c(!o)},children:(0,R.jsx)(M.kHX,{stroke:1.5})})]})]}),(0,R.jsx)(a.Z,{})]}),(0,R.jsxs)(s.Z,{display:"flex",children:[(0,R.jsx)(s.Z,{width:"100%",children:(0,R.jsx)(S.Z,{sx:{height:"650px",overflow:"auto",maxHeight:"800px"},children:(0,R.jsx)(s.Z,{p:3,children:j.messages.map((function(e){return(0,R.jsx)(s.Z,{children:j.id===e.senderId?(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(s.Z,{display:"flex",children:[(0,R.jsx)(y.Z,{children:(0,R.jsx)(x.Z,{alt:j.name,src:j.thumb,sx:{width:40,height:40}})}),(0,R.jsxs)(s.Z,{children:[e.createdAt?(0,R.jsxs)(p.Z,{variant:"body2",color:"grey.400",mb:1,children:[j.name,","," ",(0,I.Z)(new Date(e.createdAt),{addSuffix:!1})," ","ago"]}):null,"text"===e.type?(0,R.jsx)(s.Z,{mb:2,sx:{p:1,backgroundColor:"grey.100",mr:"auto",maxWidth:"320px"},children:e.msg}):null,"image"===e.type?(0,R.jsx)(s.Z,{mb:1,sx:{overflow:"hidden",lineHeight:"0px"},children:(0,R.jsx)("img",{src:e.msg,alt:"attach",width:"150"})}):null]})]})}):(0,R.jsx)(s.Z,{mb:1,display:"flex",alignItems:"flex-end",flexDirection:"row-reverse",children:(0,R.jsxs)(s.Z,{alignItems:"flex-end",display:"flex",flexDirection:"column",children:[e.createdAt?(0,R.jsx)(p.Z,{variant:"body2",color:"grey.400",mb:1,children:"ago"}):null,"text"===e.type?(0,R.jsx)(s.Z,{mb:1,sx:{p:1,backgroundColor:"primary.light",ml:"auto",maxWidth:"320px"},children:e.msg},e.id):null,"image"===e.type?(0,R.jsx)(s.Z,{mb:1,sx:{overflow:"hidden",lineHeight:"0px"},children:(0,R.jsx)("img",{src:e.msg,alt:"attach",width:"250"})}):null]})})},e.id+e.msg+e.createdAt)}))})})}),(0,R.jsx)(L,{isInSidebar:h?o:!o,chat:j})]})]}):(0,R.jsxs)(s.Z,{display:"flex",alignItems:"center",p:2,pb:1,pt:1,children:[(0,R.jsx)(s.Z,{sx:{display:{xs:"flex",md:"flex",lg:"none"},mr:"10px"},children:(0,R.jsx)(M._AG,{stroke:1.5,onClick:n})}),(0,R.jsx)(p.Z,{variant:"h4",children:"Select Chat"})]})})},G=r(25002),N=r(87252),_=r(80646),J=r.n(_),q=function(){var e=t.useState(""),n=(0,i.Z)(e,2),r=n[0],a=n[1],l=(0,C.I0)(),o=t.useState(null),c=(0,i.Z)(o,2),d=c[0],h=c[1],u=t.useState(),x=(0,i.Z)(u,2),p=x[0],j=x[1],g={id:(0,C.v9)((function(e){return e.chatReducer.chatContent})),msg:r};return(0,R.jsx)(s.Z,{p:2,children:(0,R.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),l((0,P.g_)(g)),a("")},style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,R.jsx)(B.Z,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":"true","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},children:(0,R.jsx)(M.hRw,{})}),(0,R.jsxs)(G.ZP,{id:"long-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){h(null)},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,R.jsx)(J(),{onEmojiClick:function(e,n){j(n),a(n.emoji)},native:!0}),(0,R.jsxs)(s.Z,{p:2,children:["Selected: ",p?p.emoji:""]})]}),(0,R.jsx)(N.ZP,{id:"msg-sent",fullWidth:!0,value:r,placeholder:"Type a Message",size:"small",type:"text",inputProps:{"aria-label":"Type a Message"},onChange:function(e){a(e.target.value)}.bind(null)}),(0,R.jsx)(B.Z,{"aria-label":"delete",onClick:function(){l((0,P.g_)(g)),a("")},disabled:!r,color:"primary",children:(0,R.jsx)(M.h9l,{stroke:1.5,size:"20"})}),(0,R.jsx)(B.Z,{"aria-label":"delete",children:(0,R.jsx)(M.m1R,{stroke:1.5,size:"20"})}),(0,R.jsx)(B.Z,{"aria-label":"delete",children:(0,R.jsx)(M.yl$,{stroke:1.5,size:"20"})})]})})},X=r(90296),U=function(){var e=(0,t.useState)(!1),n=(0,i.Z)(e,2),r=n[0],c=n[1];return(0,R.jsxs)(o.Z,{title:"Chat ui",description:"this is Chat page",children:[(0,R.jsx)(l.Z,{title:"Chat app",subtitle:"Messenger"}),(0,R.jsxs)(X.Z,{children:[(0,R.jsx)(H,{isMobileSidebarOpen:r,onSidebarClose:function(){return c(!1)}}),(0,R.jsxs)(s.Z,{flexGrow:1,children:[(0,R.jsx)(T,{toggleChatSidebar:function(){return c(!0)}}),(0,R.jsx)(a.Z,{}),(0,R.jsx)(q,{})]})]})]})}}}]);